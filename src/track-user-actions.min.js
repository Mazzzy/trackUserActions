!function(){function e(e,t){var n;for(n in t)t.hasOwnProperty(n)&&(e[n]=t[n]);return e}function t(t){s&&(t&&"object"==typeof t&&(i=e(a,t)),document.addEventListener("DOMContentLoaded",function(){if(window.setInterval(function(){"visible"===document.visibilityState&&c.time.timeOnPage++,c.time.totalTime++,i.processTime>0&&c.time.totalTime%i.processTime===0&&n()},1e3),(i.clickCount||i.clickDetails)&&document.addEventListener("mouseup",function(){i.clickCount&&c.clicks.clickCount++,i.clickDetails&&c.clicks.clickDetails.push({timestamp:Date.now(),node:event.target.outerHTML,x:event.pageX,y:event.pageY})}),i.mouseMovement&&r.mouseMovement(),i.context&&r.contextChange(),i.keyLog&&r.keyLog(),i.actionItem.processOnAction){var e=document.querySelector(i.actionItem.selector);if(!e)throw new Error("Selector was not found.");e.addEventListener(i.actionItem.event,function(){return n()})}}))}function n(){return i.hasOwnProperty("processData")?i.processData.call(void 0,c):!1}var o={},a={clickCount:!0,clickDetails:!0,mouseMovement:!0,context:!0,keyLog:!0};a.actionItem={processOnAction:!1,selector:"",event:""},a.processTime=15,a.processData=function(e){};var i,c={userInfo:{appCodeName:navigator.appCodeName||"",appName:navigator.appName||"",vendor:navigator.vendor||"",platform:navigator.platform||"",userAgent:navigator.userAgent||""},time:{totalTime:0,timeOnPage:0},clicks:{clickCount:0,clickDetails:[]},mouseMovements:[],contextChange:[],keyLog:[]},s=!!document.querySelector&&!!document.addEventListener,r={timer:function(){window.setInterval(function(){"visible"===document.visibilityState&&c.time.timeOnPage++,c.time.totalTime++},1e3)},mouseMovement:function(){document.addEventListener("mousemove",function(){c.mouseMovements.push({timestamp:Date.now(),x:event.pageX,y:event.pageY})})},contextChange:function(){document.addEventListener("visibilitychange",function(){c.contextChange.push({timestamp:Date.now(),type:document.visibilityState})})},keyLog:function(){document.addEventListener("paste",function(){var e=void 0;window.clipboardData&&window.clipboardData.getData?e=window.clipboardData.getData("Text"):event.clipboardData&&event.clipboardData.getData&&(e=event.clipboardData.getData("text/plain")),e&&c.keyLog.push({timestamp:Date.now(),data:e,type:"paste"})}),document.addEventListener("keyup",function(){var e=event.keyCode||event.which,t=String.fromCharCode(e);c.keyLog.push({timestamp:Date.now(),data:t,type:"keypress"})})}};o.start=t,o.processEndResults=n,window.trackUser=o}();